"use strict";exports.id=111,exports.ids=[111],exports.modules={1822:(e,t,s)=>{s.d(t,{A:()=>C});var a=s(687),r=s(3210),n=s(7605),i=s(3442),o=s(9275),l=s(4934),c=s(8988),d=s(9390),m=s(5616),u=s(965),x=s(6241);function p({className:e,...t}){return(0,a.jsx)(u.uB,{"data-slot":"command",className:(0,x.cn)("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e),...t})}function h({className:e,...t}){return(0,a.jsx)(u.uB.List,{"data-slot":"command-list",className:(0,x.cn)("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",e),...t})}function g({className:e,...t}){return(0,a.jsx)(u.uB.Group,{"data-slot":"command-group",className:(0,x.cn)("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",e),...t})}function f({className:e,...t}){return(0,a.jsx)(u.uB.Item,{"data-slot":"command-item",className:(0,x.cn)("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}s(7826);var j=s(5516),y=s(1862),N=s(5891),b=s(3964),v=s(2581),w=s(3837);let S=process.env.API_URL||"http://localhost:3033",A=["NOS","Units","Boxes","KG","Grams","Liters","Meters","Pieces"],_=e=>{if("undefined"==typeof document)return null;let t=`; ${document.cookie}`.split(`; ${e}=`);return 2===t.length&&t.pop()?.split(";").shift()||null},T=o.Ik({product:o.Ik({_id:o.Yj(),location:o.Yj(),categoryType:o.Yj(),categorySubType:o.Yj(),name:o.Yj(),p_name:o.Yj(),brand:o.Yj()}).nullable(),quantity:o.ai().min(1,"Quantity must be at least 1").int("Quantity must be an integer"),measurement:o.Yj().min(1,"Please select a measurement"),specification:o.Yj().optional(),emailAddress:o.Yj().email("Please enter a valid email address").optional(),mobileNumber:o.Yj().min(10,"Mobile number must be at least 10 digits").optional()});function C({initialProduct:e=null}){let[t,s]=(0,r.useState)(!1),[o,u]=(0,r.useState)(!1),[C,k]=(0,r.useState)(null),[I,q]=(0,r.useState)(!0),{control:O,handleSubmit:E,formState:{errors:R},reset:Y,setValue:P}=(0,n.mN)({resolver:(0,i.u)(T),defaultValues:{product:e||null,quantity:1,measurement:"NOS",specification:"",emailAddress:"",mobileNumber:""},mode:"onChange"}),$=async e=>{if(!e.product)return void(0,v.oR)("Error",{description:"Please select a product"});s(!0);try{let t=_("token"),s={company:C?.companyName||"",email:C?.email||e.emailAddress||"",gstNo:C?.gstNo||"",measurement:e.measurement,minQty:e.quantity,mobile:C?.mobileNo||e.mobileNumber||"",name:e.product.name,pid:Number(e.product._id)||0,pincode:C?.pincode||"",specification:e.specification||"",userType:C?.userType||"buyer"};if(!s.email||!s.mobile)return void(0,v.oR)("Error",{description:"Email and mobile number are required"});if(!(await fetch(`${S}/api/v1/requirements`,{method:"POST",headers:{"Content-Type":"application/json",...t&&C?{Authorization:`Bearer ${t}`}:{}},body:JSON.stringify(s)})).ok)throw Error("Failed to submit");(0,v.oR)("Success",{description:"Requirements submitted successfully!"}),Y({product:null,quantity:1,measurement:"NOS",specification:"",emailAddress:C?.email||"",mobileNumber:C?.mobileNo||""})}catch(e){(0,v.oR)("Error",{description:"Failed to submit requirements"})}finally{s(!1)}};return I?(0,a.jsxs)("div",{className:"p-6 flex justify-center items-center py-12",children:[(0,a.jsx)(y.A,{className:"h-8 w-8 animate-spin text-blue-600"}),(0,a.jsx)("span",{className:"ml-2",children:"Loading..."})]}):(0,a.jsxs)("div",{className:"p-6",children:[C&&(0,a.jsx)("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:(0,a.jsxs)("p",{className:"text-sm text-green-700",children:["Welcome: ",C.email," (",C.companyName,")"]})}),(0,a.jsxs)("form",{onSubmit:E($),className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.J,{className:"text-sm font-medium text-gray-700",children:"Product Name"}),e?(0,a.jsx)(c.p,{value:e.name,readOnly:!0,className:"h-10 bg-gray-100"}):(0,a.jsx)(n.xI,{name:"product",control:O,render:({field:e})=>(0,a.jsx)(w.A,{label:"Product Name",placeholder:"Search products...",value:e.value,onChange:t=>{console.log("Selected product:",t),e.onChange(t),P("measurement","NOS")},error:R.product?.message})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.J,{className:"text-sm font-medium text-gray-700",children:"Quantity"}),(0,a.jsx)(n.xI,{name:"quantity",control:O,render:({field:e})=>(0,a.jsx)(c.p,{type:"number",min:"1",...e,onChange:t=>e.onChange(Number(t.target.value)||1),className:"h-10"})}),R.quantity&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:R.quantity.message})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.J,{className:"text-sm font-medium text-gray-700",children:"Measurement"}),(0,a.jsx)(n.xI,{name:"measurement",control:O,render:({field:e})=>(0,a.jsxs)(j.AM,{open:o,onOpenChange:u,children:[(0,a.jsx)(j.Wv,{asChild:!0,children:(0,a.jsxs)(l.$,{variant:"outline",className:"w-full justify-between h-10",children:[e.value||"Select measurement",(0,a.jsx)(N.A,{className:"ml-2 h-4 w-4"})]})}),(0,a.jsx)(j.hl,{className:"w-48 p-0",children:(0,a.jsx)(p,{children:(0,a.jsx)(h,{children:(0,a.jsx)(g,{children:A.map(t=>(0,a.jsxs)(f,{onSelect:()=>{e.onChange(t),u(!1)},children:[(0,a.jsx)(b.A,{className:(0,x.cn)("mr-2 h-4 w-4",e.value===t?"opacity-100":"opacity-0")}),t]},t))})})})})]})}),R.measurement&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:R.measurement.message})]})]}),!C&&(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.J,{className:"text-sm font-medium text-gray-700",children:"Email Address *"}),(0,a.jsx)(n.xI,{name:"emailAddress",control:O,render:({field:e})=>(0,a.jsx)(c.p,{type:"email",...e,placeholder:"Enter email address",className:"h-10"})}),R.emailAddress&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:R.emailAddress.message})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.J,{className:"text-sm font-medium text-gray-700",children:"Mobile Number *"}),(0,a.jsx)(n.xI,{name:"mobileNumber",control:O,render:({field:e})=>(0,a.jsx)(c.p,{type:"tel",...e,placeholder:"IN +91 Enter mobile number",className:"h-10"})}),R.mobileNumber&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:R.mobileNumber.message})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.J,{className:"text-sm font-medium text-gray-700",children:"Specification"}),(0,a.jsx)(n.xI,{name:"specification",control:O,render:({field:e})=>(0,a.jsx)(m.T,{...e,placeholder:"Enter specifications...",className:"min-h-24",rows:3})})]})]}),(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)(l.$,{type:"submit",disabled:t,className:"bg-blue-600 hover:bg-blue-700 px-8",children:t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting..."]}):"Submit Inquiry"})})]})]})}},3837:(e,t,s)=>{s.d(t,{A:()=>u});var a=s(687),r=s(3210),n=s(8988),i=s(5516),o=s(4934),l=s(1862),c=s(9270),d=s(3964),m=s(6241);function u({label:e,placeholder:t="Search products...",value:s,onChange:u,onSearch:x,error:p,className:h}){let[g,f]=(0,r.useState)(""),[j,y]=(0,r.useState)([]),[N,b]=(0,r.useState)(!1),[v,w]=(0,r.useState)(!1),[S,A]=(0,r.useState)(!1),_=(0,r.useRef)(null),T=(0,r.useRef)(null),C=(0,r.useRef)(""),k=async e=>{try{let t=await fetch(`http://localhost:3033/api/v1/search?query=${encodeURIComponent(e)}`);if(!t.ok)throw Error(`HTTP error! status: ${t.status}`);return(await t.json()).map(e=>({_id:e._id,name:e.name,categoryType:e.categoryType,categorySubType:e.categorySubType,location:e.location,measurementOptions:e.measurementOptions||[],p_name:e.p_name||"",brand:e.brand||""}))}catch(e){throw console.error("Error fetching products from API:",e),e}},I=async e=>{T.current&&clearTimeout(T.current),T.current=setTimeout(async()=>{if(e!==C.current){if(C.current=e,!e.trim()){y([]),b(!1),w(!1);return}b(!0),w(!0);try{let t;t=x?await x(e):await k(e),y(t)}catch(e){console.error("Error fetching search results:",e),y([])}finally{b(!1),_.current&&_.current.focus()}}},300)},q=e=>{u(e),f(e.name),w(!1),y([]),setTimeout(()=>{_.current&&(_.current.focus(),_.current.select())},0)};return S?(0,a.jsxs)("div",{className:(0,m.cn)("space-y-2 relative",h),children:[e&&(0,a.jsx)("label",{className:"text-sm font-medium",children:e}),(0,a.jsxs)(i.AM,{open:v,onOpenChange:w,children:[(0,a.jsx)(i.Wv,{asChild:!0,children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(n.p,{ref:_,type:"text",placeholder:t,value:g,onChange:e=>{let t=e.target.value;f(t),I(t)},onFocus:()=>{g.trim()&&j.length>0&&w(!0)},className:"h-10 pr-20"}),(0,a.jsxs)("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 flex items-center space-x-1",children:[N&&(0,a.jsx)(l.A,{className:"h-4 w-4 animate-spin text-gray-400"}),!N&&(0,a.jsx)(c.A,{className:"h-4 w-4 text-gray-400"}),s&&(0,a.jsx)(o.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>{u(null),f(""),y([]),w(!1),_.current&&_.current.focus()},className:"h-6 w-6 p-0 hover:bg-gray-100",children:"\xd7"})]})]})}),(0,a.jsx)(i.hl,{className:"w-full p-0",align:"start",onOpenAutoFocus:e=>e.preventDefault(),onCloseAutoFocus:e=>e.preventDefault(),children:(0,a.jsxs)("div",{className:"max-h-64 overflow-y-auto",children:[N&&(0,a.jsxs)("div",{className:"flex items-center justify-center py-4",children:[(0,a.jsx)(l.A,{className:"h-4 w-4 animate-spin"}),(0,a.jsx)("span",{className:"ml-2 text-sm text-gray-500",children:"Searching..."})]}),!N&&0===j.length&&g.trim()&&(0,a.jsxs)("div",{className:"py-4 text-center text-sm text-gray-500",children:['No products found for "',g,'"']}),!N&&j.length>0&&(0,a.jsx)("div",{className:"py-2",children:j.map(e=>(0,a.jsxs)("button",{onClick:()=>q(e),className:"w-full flex items-center px-4 py-3 hover:bg-gray-50 text-left transition-colors",children:[(0,a.jsx)(d.A,{className:(0,m.cn)("mr-3 h-4 w-4",s&&s._id===e._id?"opacity-100":"opacity-0")}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"font-medium text-sm text-gray-900 truncate",children:e.name}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:[e.categoryType," • ",e.categorySubType]}),(0,a.jsx)("div",{className:"text-xs text-gray-400",children:e.location})]})]},e._id))})]})})]}),p&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:p})]}):(0,a.jsxs)("div",{className:(0,m.cn)("space-y-2",h),children:[e&&(0,a.jsx)("label",{className:"text-sm font-medium text-white",children:e}),(0,a.jsx)(n.p,{placeholder:t,disabled:!0,className:"h-10 text-white"}),p&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:p})]})}},5192:(e,t,s)=>{s.d(t,{BT:()=>l,Wu:()=>c,ZB:()=>o,Zp:()=>n,aR:()=>i});var a=s(687);s(3210);var r=s(6241);function n({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function i({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function o({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",e),...t})}function l({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",e),...t})}function c({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",e),...t})}},5516:(e,t,s)=>{s.d(t,{AM:()=>i,Wv:()=>o,hl:()=>l});var a=s(687);s(3210);var r=s(8241),n=s(6241);function i({...e}){return(0,a.jsx)(r.bL,{"data-slot":"popover",...e})}function o({...e}){return(0,a.jsx)(r.l9,{"data-slot":"popover-trigger",...e})}function l({className:e,align:t="center",sideOffset:s=4,...i}){return(0,a.jsx)(r.ZL,{children:(0,a.jsx)(r.UC,{"data-slot":"popover-content",align:t,sideOffset:s,className:(0,n.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...i})})}},5616:(e,t,s)=>{s.d(t,{T:()=>n});var a=s(687);s(3210);var r=s(6241);function n({className:e,...t}){return(0,a.jsx)("textarea",{"data-slot":"textarea",className:(0,r.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}}};