"use strict";exports.id=664,exports.ids=[664],exports.modules={399:(e,t,a)=>{a.r(t),a.d(t,{default:()=>s});let s=(0,a(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Keval\\\\VrajeshRndTechnosoft\\\\sabecho-v2\\\\app\\\\(public)\\\\products\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Keval\\VrajeshRndTechnosoft\\sabecho-v2\\app\\(public)\\products\\page.tsx","default")},4615:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ev});var s=a(687),r=a(3210),o=a(6189),n=a(1273),l=a(9510),i=a(8599),d=a(569),c=a(5551),m=a(4163),u=a(6156),x=a(6059),p=a(6963),h="Collapsible",[f,g]=(0,n.A)(h),[b,j]=f(h),v=r.forwardRef((e,t)=>{let{__scopeCollapsible:a,open:o,defaultOpen:n,disabled:l,onOpenChange:i,...d}=e,[u,x]=(0,c.i)({prop:o,defaultProp:n??!1,onChange:i,caller:h});return(0,s.jsx)(b,{scope:a,disabled:l,contentId:(0,p.B)(),open:u,onOpenToggle:r.useCallback(()=>x(e=>!e),[x]),children:(0,s.jsx)(m.sG.div,{"data-state":A(u),"data-disabled":l?"":void 0,...d,ref:t})})});v.displayName=h;var y="CollapsibleTrigger",N=r.forwardRef((e,t)=>{let{__scopeCollapsible:a,...r}=e,o=j(y,a);return(0,s.jsx)(m.sG.button,{type:"button","aria-controls":o.contentId,"aria-expanded":o.open||!1,"data-state":A(o.open),"data-disabled":o.disabled?"":void 0,disabled:o.disabled,...r,ref:t,onClick:(0,d.m)(e.onClick,o.onOpenToggle)})});N.displayName=y;var w="CollapsibleContent",C=r.forwardRef((e,t)=>{let{forceMount:a,...r}=e,o=j(w,e.__scopeCollapsible);return(0,s.jsx)(x.C,{present:a||o.open,children:({present:e})=>(0,s.jsx)(_,{...r,ref:t,present:e})})});C.displayName=w;var _=r.forwardRef((e,t)=>{let{__scopeCollapsible:a,present:o,children:n,...l}=e,d=j(w,a),[c,x]=r.useState(o),p=r.useRef(null),h=(0,i.s)(t,p),f=r.useRef(0),g=f.current,b=r.useRef(0),v=b.current,y=d.open||c,N=r.useRef(y),C=r.useRef(void 0);return r.useEffect(()=>{let e=requestAnimationFrame(()=>N.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,u.N)(()=>{let e=p.current;if(e){C.current=C.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";let t=e.getBoundingClientRect();f.current=t.height,b.current=t.width,N.current||(e.style.transitionDuration=C.current.transitionDuration,e.style.animationName=C.current.animationName),x(o)}},[d.open,o]),(0,s.jsx)(m.sG.div,{"data-state":A(d.open),"data-disabled":d.disabled?"":void 0,id:d.contentId,hidden:!y,...l,ref:h,style:{"--radix-collapsible-content-height":g?`${g}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...e.style},children:y&&n})});function A(e){return e?"open":"closed"}var k=a(43),R="Accordion",I=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[$,S,L]=(0,l.N)(R),[P,E]=(0,n.A)(R,[L,g]),T=g(),z=r.forwardRef((e,t)=>{let{type:a,...r}=e;return(0,s.jsx)($.Provider,{scope:e.__scopeAccordion,children:"multiple"===a?(0,s.jsx)(q,{...r,ref:t}):(0,s.jsx)(G,{...r,ref:t})})});z.displayName=R;var[F,D]=P(R),[O,U]=P(R,{collapsible:!1}),G=r.forwardRef((e,t)=>{let{value:a,defaultValue:o,onValueChange:n=()=>{},collapsible:l=!1,...i}=e,[d,m]=(0,c.i)({prop:a,defaultProp:o??"",onChange:n,caller:R});return(0,s.jsx)(F,{scope:e.__scopeAccordion,value:r.useMemo(()=>d?[d]:[],[d]),onItemOpen:m,onItemClose:r.useCallback(()=>l&&m(""),[l,m]),children:(0,s.jsx)(O,{scope:e.__scopeAccordion,collapsible:l,children:(0,s.jsx)(K,{...i,ref:t})})})}),q=r.forwardRef((e,t)=>{let{value:a,defaultValue:o,onValueChange:n=()=>{},...l}=e,[i,d]=(0,c.i)({prop:a,defaultProp:o??[],onChange:n,caller:R}),m=r.useCallback(e=>d((t=[])=>[...t,e]),[d]),u=r.useCallback(e=>d((t=[])=>t.filter(t=>t!==e)),[d]);return(0,s.jsx)(F,{scope:e.__scopeAccordion,value:i,onItemOpen:m,onItemClose:u,children:(0,s.jsx)(O,{scope:e.__scopeAccordion,collapsible:!0,children:(0,s.jsx)(K,{...l,ref:t})})})}),[B,H]=P(R),K=r.forwardRef((e,t)=>{let{__scopeAccordion:a,disabled:o,dir:n,orientation:l="vertical",...c}=e,u=r.useRef(null),x=(0,i.s)(u,t),p=S(a),h="ltr"===(0,k.jH)(n),f=(0,d.m)(e.onKeyDown,e=>{if(!I.includes(e.key))return;let t=e.target,a=p().filter(e=>!e.ref.current?.disabled),s=a.findIndex(e=>e.ref.current===t),r=a.length;if(-1===s)return;e.preventDefault();let o=s,n=r-1,i=()=>{(o=s+1)>n&&(o=0)},d=()=>{(o=s-1)<0&&(o=n)};switch(e.key){case"Home":o=0;break;case"End":o=n;break;case"ArrowRight":"horizontal"===l&&(h?i():d());break;case"ArrowDown":"vertical"===l&&i();break;case"ArrowLeft":"horizontal"===l&&(h?d():i());break;case"ArrowUp":"vertical"===l&&d()}let c=o%r;a[c].ref.current?.focus()});return(0,s.jsx)(B,{scope:a,disabled:o,direction:n,orientation:l,children:(0,s.jsx)($.Slot,{scope:a,children:(0,s.jsx)(m.sG.div,{...c,"data-orientation":l,ref:x,onKeyDown:o?void 0:f})})})}),V="AccordionItem",[M,J]=P(V),W=r.forwardRef((e,t)=>{let{__scopeAccordion:a,value:r,...o}=e,n=H(V,a),l=D(V,a),i=T(a),d=(0,p.B)(),c=r&&l.value.includes(r)||!1,m=n.disabled||e.disabled;return(0,s.jsx)(M,{scope:a,open:c,disabled:m,triggerId:d,children:(0,s.jsx)(v,{"data-orientation":n.orientation,"data-state":ea(c),...i,...o,ref:t,disabled:m,open:c,onOpenChange:e=>{e?l.onItemOpen(r):l.onItemClose(r)}})})});W.displayName=V;var Z="AccordionHeader",Q=r.forwardRef((e,t)=>{let{__scopeAccordion:a,...r}=e,o=H(R,a),n=J(Z,a);return(0,s.jsx)(m.sG.h3,{"data-orientation":o.orientation,"data-state":ea(n.open),"data-disabled":n.disabled?"":void 0,...r,ref:t})});Q.displayName=Z;var X="AccordionTrigger",Y=r.forwardRef((e,t)=>{let{__scopeAccordion:a,...r}=e,o=H(R,a),n=J(X,a),l=U(X,a),i=T(a);return(0,s.jsx)($.ItemSlot,{scope:a,children:(0,s.jsx)(N,{"aria-disabled":n.open&&!l.collapsible||void 0,"data-orientation":o.orientation,id:n.triggerId,...i,...r,ref:t})})});Y.displayName=X;var ee="AccordionContent",et=r.forwardRef((e,t)=>{let{__scopeAccordion:a,...r}=e,o=H(R,a),n=J(ee,a),l=T(a);return(0,s.jsx)(C,{role:"region","aria-labelledby":n.triggerId,"data-orientation":o.orientation,...l,...r,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});function ea(e){return e?"open":"closed"}et.displayName=ee;var es=a(5891),er=a(6241);function eo({...e}){return(0,s.jsx)(z,{"data-slot":"accordion",...e})}function en({className:e,...t}){return(0,s.jsx)(W,{"data-slot":"accordion-item",className:(0,er.cn)("border-b last:border-b-0",e),...t})}function el({className:e,children:t,...a}){return(0,s.jsx)(Q,{className:"flex",children:(0,s.jsxs)(Y,{"data-slot":"accordion-trigger",className:(0,er.cn)("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",e),...a,children:[t,(0,s.jsx)(es.A,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function ei({className:e,children:t,...a}){return(0,s.jsx)(et,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...a,children:(0,s.jsx)("div",{className:(0,er.cn)("pt-0 pb-4",e),children:t})})}var ed=a(8988),ec=a(5192),em=a(9270),eu=a(4952),ex=a(7760),ep=a(2941),eh=a(4934),ef=a(7826),eg=a(2452),eb=a(2581);let ej=process.env.API_URL||"http://localhost:3033",ev=({category:e,subcategory:t,product:a,location:n})=>{let l=(0,o.useRouter)(),[i,d]=(0,r.useState)([]),[c,m]=(0,r.useState)(!0),[u,x]=(0,r.useState)(""),[p,h]=(0,r.useState)(""),[f,g]=(0,r.useState)(null),[b,j]=(0,r.useState)(""),[v,y]=(0,r.useState)(""),[N,w]=(0,r.useState)("categories"),[C,_]=(0,r.useState)(!1),[A,k]=(0,r.useState)([]),[R,I]=(0,r.useState)({isAuthenticated:!1}),$=(0,r.useCallback)(e=>{let t=`; ${document.cookie}`.split(`; ${e}=`);return 2===t.length&&t.pop()?.split(";").shift()||null},[]),S=(0,r.useCallback)(async()=>{let e=$("token");if(!e)return void I({isAuthenticated:!1});try{let t=await fetch(`${ej}/api/v1/verifyToken`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e})});if(t.ok){let e=await t.json();I({isAuthenticated:!0,userId:e.userId,email:e.email})}else I({isAuthenticated:!1}),eb.oR.error("Session expired. Please log in again.")}catch(e){console.error("Error verifying user:",e),I({isAuthenticated:!1}),eb.oR.error("Failed to verify user. Please try again.")}},[$]),L=(0,r.useCallback)(async()=>{m(!0);try{let e=await fetch(`${ej}/api/v1/categories/all`,{credentials:"include"});if(!e.ok)throw Error("Failed to fetch categories");let t=(await e.json()).map(e=>({...e,subCategory:e.subCategory.map(e=>({...e,product:e.product.map(e=>({...e,description:`${e.description||"No description available"}`,brands:`${e.brands||"No brands specified"}`}))}))}));d(t)}catch(e){console.error("Error fetching categories:",e),eb.oR.error("Failed to load categories. Please try again.")}finally{m(!1)}},[]),P=(0,r.useCallback)(async e=>{let t=$("token");if(t)try{let a=await fetch(`${ej}/api/v1/favorite/${e}`,{method:"GET",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!a.ok){let e=await a.json();throw Error(e.message||"Failed to fetch favorites")}let s=await a.json();k(s.map(e=>e.productId))}catch(e){console.error("Error fetching favorites:",e),eb.oR.error(e instanceof Error?e.message:"Failed to load favorites. Please try again.")}},[$]),E=(0,r.useCallback)(async(e,t)=>{if(!R.isAuthenticated||!R.userId||!R.email)return void eb.oR.error("Login Required",{description:"Please log in to add items to your favorites."});let a=A.includes(e);try{let s=$("token");if(!s)throw Error("Authentication token not found");let r=await fetch(`${ej}/api/v1/favorite/save`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({userId:R.userId,productId:e,productName:t,email:R.email})});if(!r.ok){let e=await r.json();throw Error(e.message||"Failed to toggle favorite")}k(t=>a?t.filter(t=>t!==e):[...t,e]),eb.oR.success(a?"Removed from favorites":"Added to favorites")}catch(e){console.error("Error toggling favorite:",e),eb.oR.error(e instanceof Error?e.message:"Failed to update favorites. Please try again.")}},[R.isAuthenticated,R.userId,R.email,A,$]);(0,r.useEffect)(()=>{S(),L()},[S,L]),(0,r.useEffect)(()=>{R.isAuthenticated&&R.userId?P(R.userId):k([])},[R.isAuthenticated,R.userId,P]),(0,r.useEffect)(()=>{if(i.length>0){let s,r,o="";e&&(s=i.find(t=>t.category.toLowerCase()===e.toLowerCase()))&&(o=s._id),s&&t&&(r=s.subCategory.find(e=>e.name.toLowerCase()===t.toLowerCase())),e?a?(w("product"),j(a),g(r||null),y(o),n&&h(n)):(t?(w("subcategory"),g(r||null),y(o)):(w("categories"),y(o),g(null)),j("")):(w("categories"),y(""),g(null),j(""))}},[e,t,a,n,i]);let T=i.filter(e=>e.category.toLowerCase().includes(u.toLowerCase())),z=f?.product.filter(e=>!p||e.p_name.toLowerCase().includes(p.toLowerCase())||e.location.toLowerCase().includes(p.toLowerCase()))||[],F=(0,r.useCallback)((e,t)=>{l.push(`/products/${encodeURIComponent(t)}/${encodeURIComponent(e.name)}`),g(e),j(""),w("subcategory"),h(""),_(!1)},[l]),D=(0,r.useCallback)((e,t)=>{l.push(`/products/${encodeURIComponent(t)}/${encodeURIComponent(f?.name||"")}/${encodeURIComponent(e.p_name)}`),j(e.p_name),w("product"),_(!1)},[l,f]),O=(0,r.useCallback)(()=>{l.push("/products"),w("categories"),g(null),j(""),y(""),_(!1)},[l]),U=(0,r.useCallback)(()=>{if(f){let e=i.find(e=>e.subCategory.some(e=>e._id===f._id))?.category||"";l.push(`/products/${encodeURIComponent(e)}/${encodeURIComponent(f.name)}`),w("subcategory"),j(""),_(!1)}},[l,f,i]);if(c)return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,s.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-6",children:(0,s.jsx)("div",{className:"container mx-auto px-4",children:(0,s.jsx)("div",{className:"w-48 h-8 bg-white/20 rounded animate-pulse"})})}),(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8 flex flex-col gap-6",children:[(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4",children:[(0,s.jsx)("div",{className:"w-full h-10 bg-gray-200 rounded-md mb-4 animate-pulse"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"w-full h-6 bg-gray-200 rounded-md animate-pulse"}),(0,s.jsx)("div",{className:"w-full h-6 bg-gray-200 rounded-md animate-pulse"}),(0,s.jsx)("div",{className:"w-full h-6 bg-gray-200 rounded-md animate-pulse"})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4",children:[(0,s.jsx)("div",{className:"w-48 h-8 bg-gray-200 rounded-md mb-4 animate-pulse"}),(0,s.jsx)("div",{className:"w-full h-10 bg-gray-200 rounded-md mb-4 animate-pulse"}),(0,s.jsx)("div",{className:"w-full h-48 bg-gray-200 rounded-md animate-pulse"})]})]})]});let G=(e,t)=>(0,s.jsxs)("tr",{className:`border-b hover:bg-gray-50 ${a===e.p_name&&n===e.location?"bg-blue-50":""}`,children:[(0,s.jsx)("td",{className:"p-2 md:p-3 font-medium text-sm",children:e.p_name}),(0,s.jsx)("td",{className:"p-2 md:p-3 text-sm",children:e.location}),(0,s.jsx)("td",{className:"p-2 md:p-3 text-sm",children:e.brands}),(0,s.jsxs)("td",{className:"p-2 md:p-3 flex space-x-2",children:[(0,s.jsx)(eh.$,{variant:"outline",size:"sm",onClick:()=>E(e._id,e.p_name),className:`${A.includes(e._id)?"text-red-600 border-red-600 hover:bg-red-50":"text-gray-600 border-gray-300 hover:bg-gray-50"} h-8 w-8 p-0`,"aria-label":A.includes(e._id)?"Remove from favorites":"Add to favorites",children:(0,s.jsx)(ex.A,{className:`w-4 h-4 ${A.includes(e._id)?"fill-current":""}`})}),(0,s.jsxs)(ef.lG,{children:[(0,s.jsx)(ef.zM,{asChild:!0,children:(0,s.jsx)(eh.$,{variant:"outline",size:"sm",className:"text-blue-600 border-blue-600 hover:bg-blue-50 h-8 text-xs",children:"Send Inquiry"})}),(0,s.jsxs)(ef.Cf,{className:"p-0 max-w-[90vw] w-full sm:max-w-md md:max-w-3xl rounded-lg",children:[(0,s.jsxs)(ef.L3,{className:"mt-5 px-5",children:["Inquiry for ",e.p_name]}),(0,s.jsx)(eg.A,{initialProduct:{_id:e._id,location:e.location,categoryType:t,categorySubType:f?.name||"",name:e.p_name,measurementOptions:["pieces","dozens","boxes"],p_name:e.p_name,brand:e.brands}})]})]})]})]},e._id),q=(e,t)=>(0,s.jsx)("div",{className:"border rounded-lg p-4 bg-white shadow-sm",children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium text-gray-700 text-sm",children:"Product: "}),(0,s.jsx)("span",{className:"text-sm",children:e.p_name})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium text-gray-700 text-sm",children:"Location: "}),(0,s.jsx)("span",{className:"text-sm",children:e.location})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium text-gray-700 text-sm",children:"Description: "}),"` ",(0,s.jsx)("span",{className:"text-sm",children:e.description||"No description available"})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2 pt-2",children:[(0,s.jsx)(eh.$,{variant:"outline",size:"sm",onClick:()=>E(e._id,e.p_name),className:`${A.includes(e._id)?"text-red-600 border-red-blue-gray-50":"text-gray-600 border-gray-300 hover:bg-gray-50"} h-8 w-8 p-0`,"aria-label":A.includes(e._id)?"Remove from favorites":"Add to favorites",children:(0,s.jsx)(ex.A,{className:`w-4 h-4 ${A.includes(e._id)?"fill-current":""}`})}),(0,s.jsxs)(ef.lG,{children:[(0,s.jsx)(ef.zM,{asChild:!0,children:(0,s.jsx)(eh.$,{variant:"outline",size:"sm",className:"text-blue-600 border-blue-600 hover:bg-blue-50 h-8 text-xs",children:"Send Inquiry"})}),(0,s.jsxs)(ef.Cf,{className:"p-0 max-w-[90vw] w-full sm:max-w-md rounded-lg",children:[(0,s.jsxs)(ef.L3,{className:"mt-5 px-5",children:["Inquiry for ",e.p_name]}),(0,s.jsx)(eg.A,{initialProduct:{_id:e._id,location:e.location,categoryType:t,categorySubType:f?.name||"",name:e.p_name,measurementOptions:["pieces","dozens","boxes"],p_name:e.p_name,brand:e.brands}})]})]})]})]})},e._id);return(0,s.jsx)("div",{className:"min-h-screen bg-gray-100",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 py-6",children:[(0,s.jsxs)("div",{className:"md:min-h flex items-center justify-between mb-4 md:min",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Product Categories"}),(0,s.jsx)(eh.$,{variant:"outline",size:"icon",onClick:()=>_(!C),className:"text-gray-700 border-gray-300","aria-label":C?"Hide categories":"Show categories"}),(0,s.jsx)(ep.A,{className:"w-5 h-5"})]}),(0,s.jsxs)("div",{className:"flex flex-col md:flex-row gap-6",children:[(0,s.jsx)("div",{className:`w-full md:w-1/4 transition-all duration-300 ${C?"block":"hidden md:block"} 
            }`,children:(0,s.jsx)(ec.Zp,{className:"shadow-md",children:(0,s.jsxs)(ec.Wu,{className:"p-4",children:[(0,s.jsx)("h2",{className:"text-base md:text-lg font-semibold text-gray-900 mb-4 hidden md:block",children:"Product Categories"}),(0,s.jsxs)("div",{className:"relative mb-4",children:[(0,s.jsx)(em.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4 md:w-5 md:h-5"}),(0,s.jsx)(ed.p,{placeholder:"Search categories...",value:u,onChange:e=>x(e.target.value),className:"pl-9 h-9 text-sm md:pl-10 md:h-10 md:text-base border-gray-300 focus:ring-2 focus:ring-blue-500"})]}),(0,s.jsx)(eo,{type:"single",collapsible:!0,value:v,onValueChange:y,className:"space-y-1",children:T.map(e=>(0,s.jsxs)(en,{value:e._id,children:[(0,s.jsx)(el,{className:"text-gray-900 font-medium hover:text-blue-600 text-sm md:text-base py-2",children:e.category}),(0,s.jsx)(ei,{children:(0,s.jsx)("div",{className:"space-y-1 pl-3 md:pl-4",children:e.subCategory.map(t=>(0,s.jsxs)("div",{children:[(0,s.jsxs)("button",{onClick:()=>F(t,e.category),className:`flex items-center w-full text-left text-gray-700 hover:text-blue-600 transition-colors mb-1 text-sm md:text-base ${f?._id===t._id?"text-blue-600 font-semibold":""}`,children:[(0,s.jsx)(eu.A,{className:"w-3 h-3 md:w-4 md:h-4 mr-2"}),t.name," (",t.product.length,")"]}),f?._id===t._id&&(0,s.jsx)("div",{className:"ml-4 md:ml-6 space-y-1",children:t.product.map(t=>(0,s.jsxs)("button",{onClick:()=>D(t,e.category),className:`block w-full text-left text-xs md:text-sm text-gray-600 hover:text-blue-500 transition-colors py-1 px-2 rounded ${b.toLowerCase()===t.p_name.toLowerCase()?"bg-blue-50 text-blue-600 font-medium":"hover:bg-gray-50"}`,children:["• ",t.p_name]},t._id))})]},t._id))})})]},e._id))})]})})}),(0,s.jsx)("div",{className:"w-full md:w-3/4",children:(0,s.jsx)(ec.Zp,{className:"shadow-md",children:(0,s.jsxs)(ec.Wu,{className:"p-4 md:p-6",children:[(0,s.jsxs)("div",{className:"flex items-center text-xs md:text-sm text-gray-600 mb-4 flex-wrap",children:[(0,s.jsx)("button",{onClick:O,className:"hover:text-blue-600 transition-colors",children:"Categories"}),f&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eu.A,{className:"w-3 h-3 md:w-4 md:h-4 mx-2"}),(0,s.jsx)("button",{onClick:U,className:"hover:text-blue-600 transition-colors",children:f.name})]}),b&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eu.A,{className:"w-3 h-3 md:w-4 md:h-4 mx-2"}),(0,s.jsx)("span",{className:"text-gray-900 font-medium",children:b})]})]}),"categories"===N&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h2",{className:"text-base md:text-lg font-semibold text-gray-900 mb-4",children:"All Categories"}),(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:T.map(e=>(0,s.jsxs)("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-900 text-sm md:text-base mb-2",children:e.category}),(0,s.jsxs)("p",{className:"text-xs md:text-sm text-gray-600 mb-3",children:[e.subCategory.length," subcategories"]}),(0,s.jsx)(eh.$,{variant:"outline",size:"sm",onClick:()=>y(e._id),className:"text-blue-600 border-blue-600 hover:bg-blue-50 text-xs md:text-sm px-3 h-8",children:"View Subcategories"})]},e._id))})]}),"subcategory"===N&&(f?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("h2",{className:"text-base md:text-lg font-semibold text-gray-900 mb-4",children:[f.name," Products"]}),(0,s.jsxs)("div",{className:"relative mb-4",children:[(0,s.jsx)(em.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4 md:w-5 md:h-5"}),(0,s.jsx)(ed.p,{placeholder:"Search products or locations...",value:p,onChange:e=>h(e.target.value),className:"pl-9 h-9 text-sm md:pl-10 md:h-10 md:text-base border-gray-300 focus:ring-2 focus:ring-blue-500"})]}),(0,s.jsx)("div",{className:"hidden md:block overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"bg-gray-100 text-gray-700 uppercase text-xs",children:[(0,s.jsx)("th",{className:"p-3",children:"Product"}),(0,s.jsx)("th",{className:"p-3",children:"Location"}),(0,s.jsx)("th",{className:"p-3",children:"Description"}),(0,s.jsx)("th",{className:"p-3",children:"Actions"})]})}),(0,s.jsx)("tbody",{children:z.length>0?z.map(e=>G(e,i.find(e=>e.subCategory.some(e=>e._id===f._id))?.category||"")):(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:4,className:"p-3 text-center text-gray-500 text-sm",children:"No products found."})})})]})}),(0,s.jsx)("div",{className:"md:hidden space-y-3",children:z.length>0?z.map(e=>q(e,i.find(e=>e.subCategory.some(e=>e._id===f._id))?.category||"")):(0,s.jsx)("div",{className:"p-4 text-gray-500 text-sm text-center",children:"No products found."})})]}):(0,s.jsx)("div",{className:"p-4 text-gray-500 text-sm text-center",children:"Subcategory not found."})),"product"===N&&(()=>{if(!f||!b)return(0,s.jsx)("div",{className:"p-4 text-gray-500 text-sm text-center",children:"Product not found."});let e=f.product.filter(e=>e.p_name.toLowerCase()===b.toLowerCase()&&(""===p||e.location.toLowerCase().includes(p.toLowerCase())));return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("h2",{className:"text-base md:text-lg font-semibold text-gray-900 mb-4",children:[b," - All Locations"]}),(0,s.jsxs)("div",{className:"relative mb-4",children:[(0,s.jsx)(em.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4 md:w-5 md:h-5"}),(0,s.jsx)(ed.p,{placeholder:"Search locations...",value:p,onChange:e=>h(e.target.value),className:"pl-9 h-9 text-sm md:pl-10 md:h-md:text-md border-base border-gray-300 focus:ring-2 focus:ring-blue-500"})]}),(0,s.jsx)("div",{className:"hidden md:block overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"bg-gray-100 text-gray-700 uppercase text-xs",children:[(0,s.jsx)("th",{className:"p-p-2 md:p-3",children:"Product Name"}),(0,s.jsx)("th",{className:"p-2 p md:p-3",children:"Location"}),(0,s.jsx)("th",{className:"p-2 p md:p-3",children:"Description"}),(0,s.jsx)("th",{className:"p-2 p-p-md:p-3",children:"Actions"})]})}),(0,s.jsx)("tbody",{children:e.length>0?e.map(e=>G(e,i.find(e=>e.subCategory.some(e=>e._id===f._id))?.category||"")):(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:4,className:"p-2 md:p-3 text-center text-gray-500 text-sm",children:"No locations found for this product."})})})]})}),(0,s.jsx)("div",{className:"space-y-3 md:hidden",children:e.length>0?e.map(e=>q(e,i.find(e=>e.subCategory.some(e=>e._id===f._id))?.category||"")):(0,s.jsx)("div",{className:"p-4 text-gray-500 text-sm text-center",children:"No locations found for this product."})})]})})()]})})})]})]})})}},8452:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});var s=a(7413);a(1120);let r=()=>(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})})})}};