"use strict";exports.id=261,exports.ids=[261],exports.modules={399:(e,s,a)=>{a.r(s),a.d(s,{default:()=>t});let t=(0,a(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Keval\\\\VrajeshRndTechnosoft\\\\sabecho-v2\\\\app\\\\(public)\\\\products\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Keval\\VrajeshRndTechnosoft\\sabecho-v2\\app\\(public)\\products\\page.tsx","default")},8051:(e,s,a)=>{a.r(s),a.d(s,{default:()=>w});var t=a(687),r=a(3210),l=a(1757),d=a(5891),n=a(6241);function i({...e}){return(0,t.jsx)(l.bL,{"data-slot":"accordion",...e})}function o({className:e,...s}){return(0,t.jsx)(l.q7,{"data-slot":"accordion-item",className:(0,n.cn)("border-b last:border-b-0",e),...s})}function c({className:e,children:s,...a}){return(0,t.jsx)(l.Y9,{className:"flex",children:(0,t.jsxs)(l.l9,{"data-slot":"accordion-trigger",className:(0,n.cn)("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",e),...a,children:[s,(0,t.jsx)(d.A,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function m({className:e,children:s,...a}){return(0,t.jsx)(l.UC,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...a,children:(0,t.jsx)("div",{className:(0,n.cn)("pt-0 pb-4",e),children:s})})}var x=a(8988),h=a(5192),u=a(2941),p=a(9270),g=a(4952),b=a(7760),j=a(4934),f=a(7826),N=a(5814),y=a.n(N),v=a(1822);function w({category:e,subcategory:s,product:a,location:l}){let[d,n]=(0,r.useState)([]),[N,w]=(0,r.useState)(!0),[_,C]=(0,r.useState)(""),[L,S]=(0,r.useState)(""),[$,A]=(0,r.useState)(null),[z,k]=(0,r.useState)(null),[P,I]=(0,r.useState)(""),[T,q]=(0,r.useState)(""),[R,B]=(0,r.useState)("categories"),[F,G]=(0,r.useState)(!1),[M,O]=(0,r.useState)([]);process.env.API_URL;let U=(e,s,a,t)=>{let r=[e,s,a,t].filter(Boolean).map(e=>e.toLowerCase().replace(/\s+/g,"-"));return`/products/${r.join("/")}`},V=d.filter(e=>e.category.toLowerCase().includes(_.toLowerCase())),D=$?.product.filter(e=>{let s=!0;return L&&(s=s&&e.p_name.toLowerCase().includes(L.toLowerCase())),s})||[],K=(e,s)=>{let a=s.toLowerCase().replace(/\s+/g,"-"),t=e.name.toLowerCase().replace(/\s+/g,"-");window.history.pushState({},"",`/products/${a}/${t}`),A(e),k(null),I(""),B("subcategory"),S(""),G(!1)},W=e=>{let s=(d.find(e=>e.subCategory.some(e=>e._id===$?._id))?.category||"").toLowerCase().replace(/\s+/g,"-"),a=$?.name.toLowerCase().replace(/\s+/g,"-")||"",t=e.p_name.toLowerCase().replace(/\s+/g,"-");window.history.pushState({},"",`/products/${s}/${a}/${t}`),I(e.p_name),k(e),B("product"),G(!1)},Z=e=>{O(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])};return N?(0,t.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 text-white py-4",children:(0,t.jsx)("div",{className:"container mx-auto px-4",children:(0,t.jsx)("div",{className:"w-48 h-8 bg-white/20 rounded"})})}),(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8 flex flex-col gap-4",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4",children:[(0,t.jsx)("div",{className:"w-full h-10 bg-gray-200 rounded mb-4"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"w-full h-6 bg-gray-200 rounded"}),(0,t.jsx)("div",{className:"w-full h-6 bg-gray-200 rounded"}),(0,t.jsx)("div",{className:"w-full h-6 bg-gray-200 rounded"})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4",children:[(0,t.jsx)("div",{className:"w-48 h-8 bg-gray-200 rounded mb-4"}),(0,t.jsx)("div",{className:"w-full h-10 bg-gray-200 rounded mb-4"}),(0,t.jsx)("div",{className:"w-full h-48 bg-gray-200 rounded"})]})]})]}):(0,t.jsx)("div",{className:"min-h-screen bg-gray-100",children:(0,t.jsxs)("div",{className:"container mx-auto px-4 py-6",children:[(0,t.jsxs)("div",{className:"md:hidden flex items-center justify-between mb-4",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Product Categories"}),(0,t.jsx)(j.$,{variant:"outline",size:"icon",onClick:()=>G(!F),className:"text-gray-700 border-gray-300","aria-label":F?"Hide categories":"Show categories",children:(0,t.jsx)(u.A,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-6",children:[(0,t.jsx)("div",{className:`w-full md:w-1/4 transition-all duration-300 ${F?"block":"hidden md:block"}`,children:(0,t.jsx)(h.Zp,{className:"shadow-md",children:(0,t.jsxs)(h.Wu,{className:"p-4",children:[(0,t.jsx)("h2",{className:"text-base md:text-lg font-semibold text-gray-900 mb-4 hidden md:block",children:"Product Categories"}),(0,t.jsxs)("div",{className:"relative mb-4",children:[(0,t.jsx)(p.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4 md:w-5 md:h-5"}),(0,t.jsx)(x.p,{placeholder:"Search categories...",value:_,onChange:e=>C(e.target.value),className:"pl-9 h-9 text-sm md:pl-10 md:h-10 md:text-base border-gray-300 focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsx)(i,{type:"single",collapsible:!0,value:T,onValueChange:q,className:"space-y-1",children:V.map(e=>(0,t.jsxs)(o,{value:e._id,children:[(0,t.jsx)(c,{className:"text-gray-900 font-medium hover:text-blue-600 text-sm md:text-base py-2",children:e.category}),(0,t.jsx)(m,{children:(0,t.jsx)("div",{className:"space-y-1 pl-3 md:pl-4",children:e.subCategory.map(s=>(0,t.jsxs)("div",{children:[(0,t.jsxs)(y(),{href:U(e.category,s.name,"",""),onClick:a=>{a.preventDefault(),K(s,e.category)},className:`flex items-center w-full text-left text-gray-700 hover:text-blue-600 transition-colors mb-1 text-sm md:text-base ${$?._id===s._id?"text-blue-600 font-semibold":""}`,children:[(0,t.jsx)(g.A,{className:"w-3 h-3 md:w-4 md:h-4 mr-2"}),s.name," (",s.product.length,")"]},s._id),$?._id===s._id&&(0,t.jsx)("div",{className:"ml-4 md:ml-6 space-y-1",children:s.product.map(a=>(0,t.jsxs)(y(),{href:U(e.category,s.name,a.p_name,""),onClick:e=>{e.preventDefault(),W(a)},className:`block w-full text-left text-xs md:text-sm text-gray-600 hover:text-blue-500 transition-colors py-1 px-2 rounded ${P.toLowerCase()===a.p_name.toLowerCase()?"bg-blue-50 text-blue-600 font-medium":"hover:bg-gray-50"}`,children:["â€¢ ",a.p_name]},a._id))})]},s._id))})})]},e._id))})]})})}),(0,t.jsx)("div",{className:"w-full md:w-3/4",children:(0,t.jsx)(h.Zp,{className:"shadow-md",children:(0,t.jsxs)(h.Wu,{className:"p-4 md:p-6",children:[(0,t.jsxs)("div",{className:"flex items-center text-xs md:text-sm text-gray-600 mb-4 flex-wrap",children:[(0,t.jsx)("button",{onClick:()=>{window.history.pushState({},"","/products"),B("categories"),A(null),k(null),I(""),q(""),G(!1)},className:"hover:text-blue-600 transition-colors",children:"Categories"}),$&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g.A,{className:"w-3 h-3 md:w-4 md:h-4 mx-2"}),(0,t.jsx)("button",{onClick:()=>{if($){let e=(d.find(e=>e.subCategory.some(e=>e._id===$._id))?.category||"").toLowerCase().replace(/\s+/g,"-"),s=$.name.toLowerCase().replace(/\s+/g,"-");window.history.pushState({},"",`/products/${e}/${s}`)}B("subcategory"),k(null),I(""),G(!1)},className:"hover:text-blue-600 transition-colors",children:$.name})]}),z&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g.A,{className:"w-3 h-3 md:w-4 md:h-4 mx-2"}),(0,t.jsx)("span",{className:"text-gray-900 font-medium",children:P})]})]}),"categories"===R&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h2",{className:"text-base md:text-lg font-semibold text-gray-900 mb-4",children:"All Categories"}),(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:V.map(e=>(0,t.jsxs)("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900 text-sm md:text-base mb-2",children:e.category}),(0,t.jsxs)("p",{className:"text-xs md:text-sm text-gray-600 mb-3",children:[e.subCategory.length," subcategories"]}),(0,t.jsx)(j.$,{variant:"outline",size:"sm",onClick:()=>q(e._id),className:"text-blue-600 border-blue-600 hover:bg-blue-50 text-xs md:text-sm px-3 h-8",children:"View Subcategories"})]},e._id))})]}),"subcategory"===R&&$&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("h2",{className:"text-base md:text-lg font-semibold text-gray-900 mb-4",children:[$.name," Products"]}),(0,t.jsxs)("div",{className:"relative mb-4",children:[(0,t.jsx)(p.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4 md:w-5 md:h-5"}),(0,t.jsx)(x.p,{placeholder:"Search products...",value:L,onChange:e=>S(e.target.value),className:"pl-9 h-9 text-sm md:pl-10 md:h-10 md:text-base border-gray-300 focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsx)("div",{className:"hidden md:block overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-gray-100 text-gray-700 uppercase text-xs",children:[(0,t.jsx)("th",{className:"p-3",children:"Product"}),(0,t.jsx)("th",{className:"p-3",children:"Location"}),(0,t.jsx)("th",{className:"p-3",children:"Brands"}),(0,t.jsx)("th",{className:"p-3",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:D.length>0?D.map(e=>{let s=d.find(e=>e.subCategory.some(e=>e._id===$._id))?.category||"";return(0,t.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"p-3 text-sm",children:e.p_name}),(0,t.jsx)("td",{className:"p-3 text-sm",children:e.location}),(0,t.jsx)("td",{className:"p-3 text-sm",children:e.brands}),(0,t.jsxs)("td",{className:"p-3 flex space-x-2",children:[(0,t.jsx)(j.$,{variant:"outline",size:"sm",onClick:()=>Z(e._id),className:`${M.includes(e._id)?"text-red-600 border-red-600 hover:bg-red-50":"text-gray-600 border-gray-300 hover:bg-gray-50"} h-8 w-8 p-0`,"aria-label":M.includes(e._id)?"Remove from favourites":"Add to favourites",children:(0,t.jsx)(b.A,{className:`w-4 h-4 ${M.includes(e._id)?"fill-current":""}`})}),(0,t.jsxs)(f.lG,{children:[(0,t.jsx)(f.zM,{asChild:!0,children:(0,t.jsx)(j.$,{variant:"outline",size:"sm",className:"text-blue-600 border-blue-600 hover:bg-blue-50 h-8 text-xs",children:"Send Inquiry"})}),(0,t.jsxs)(f.Cf,{className:"p-0 max-w-[90vw] w-full sm:max-w-md md:max-w-3xl rounded-lg",children:[(0,t.jsxs)(f.L3,{className:"mt-5 px-5",children:["Inquiry for ",e.p_name]}),(0,t.jsx)(v.A,{initialProduct:{_id:e._id,location:e.location,categoryType:s,categorySubType:$.name,name:e.p_name,measurementOptions:["pieces","dozens","boxes"],p_name:e.p_name,brand:e.brands}})]})]})]})]},e._id)}):(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:4,className:"p-3 text-center text-gray-500 text-sm",children:"No products found."})})})]})}),(0,t.jsx)("div",{className:"md:hidden space-y-3",children:D.length>0?D.map(e=>{let s=d.find(e=>e.subCategory.some(e=>e._id===$._id))?.category||"";return(0,t.jsx)("div",{className:"border rounded-lg p-4 bg-white shadow-sm",children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-gray-700 text-sm",children:"Product: "}),(0,t.jsx)("span",{className:"text-sm",children:e.p_name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-gray-700 text-sm",children:"Location: "}),(0,t.jsx)("span",{className:"text-sm",children:e.location})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-gray-700 text-sm",children:"Brands: "}),(0,t.jsx)("span",{className:"text-sm",children:e.brands})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 pt-2",children:[(0,t.jsx)(j.$,{variant:"outline",size:"sm",onClick:()=>Z(e._id),className:`${M.includes(e._id)?"text-red-600 border-red-600 hover:bg-red-50":"text-gray-600 border-gray-300 hover:bg-gray-50"} h-8 w-8 p-0`,"aria-label":M.includes(e._id)?"Remove from favourites":"Add to favourites",children:(0,t.jsx)(b.A,{className:`w-4 h-4 ${M.includes(e._id)?"fill-current":""}`})}),(0,t.jsxs)(f.lG,{children:[(0,t.jsx)(f.zM,{asChild:!0,children:(0,t.jsx)(j.$,{variant:"outline",size:"sm",className:"text-blue-600 border-blue-600 hover:bg-blue-50 h-8 text-xs",children:"Send Inquiry"})}),(0,t.jsxs)(f.Cf,{className:"p-0 max-w-[90vw] w-full sm:max-w-md rounded-lg",children:[(0,t.jsxs)(f.L3,{className:"mt-5 px-5",children:["Inquiry for ",e.p_name]}),(0,t.jsx)(v.A,{initialProduct:{_id:e._id,location:e.location,categoryType:s,categorySubType:$.name,name:e.p_name,measurementOptions:["pieces","dozens","boxes"],p_name:e.p_name,brand:e.brands}})]})]})]})]})},e._id)}):(0,t.jsx)("div",{className:"p-4 text-gray-500 text-sm text-center",children:"No products found."})})]}),"product"===R&&P&&$&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("h2",{className:"text-base md:text-lg font-semibold text-gray-900 mb-4",children:[P," - All Locations"]}),(0,t.jsxs)("div",{className:"relative mb-4",children:[(0,t.jsx)(p.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4 md:w-5 md:h-5"}),(0,t.jsx)(x.p,{placeholder:"Search locations...",value:L,onChange:e=>S(e.target.value),className:"pl-9 h-9 text-sm md:pl-10 md:h-10 md:text-base border-gray-300 focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsx)("div",{className:"hidden md:block overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-gray-100 text-gray-700 uppercase text-xs",children:[(0,t.jsx)("th",{className:"p-2 md:p-3",children:"Product Name"}),(0,t.jsx)("th",{className:"p-2 md:p-3",children:"Location"}),(0,t.jsx)("th",{className:"p-2 md:p-3",children:"Brands"}),(0,t.jsx)("th",{className:"p-2 md:p-3",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:(()=>{let e=$.product.filter(e=>e.p_name.toLowerCase()===P.toLowerCase()&&(""===L||e.location.toLowerCase().includes(L.toLowerCase())));return e.length>0?e.map(e=>{let s=d.find(e=>e.subCategory.some(e=>e._id===$._id))?.category||"";return(0,t.jsxs)("tr",{className:`border-b hover:bg-gray-50 ${l&&e.location.toLowerCase()===l.toLowerCase()?"bg-blue-50":""}`,children:[(0,t.jsx)("td",{className:"p-2 md:p-3 font-medium text-sm",children:e.p_name}),(0,t.jsx)("td",{className:"p-2 md:p-3 text-sm",children:e.location}),(0,t.jsx)("td",{className:"p-2 md:p-3 text-sm",children:e.brands}),(0,t.jsxs)("td",{className:"p-2 md:p-3 flex space-x-2",children:[(0,t.jsx)(j.$,{variant:"outline",size:"sm",onClick:()=>Z(e._id),className:`${M.includes(e._id)?"text-red-600 border-red-600 hover:bg-red-50":"text-gray-600 border-gray-300 hover:bg-gray-50"} h-8 w-8 p-0`,"aria-label":M.includes(e._id)?"Remove from favourites":"Add to favourites",children:(0,t.jsx)(b.A,{className:`w-4 h-4 ${M.includes(e._id)?"fill-current":""}`})}),(0,t.jsxs)(f.lG,{children:[(0,t.jsx)(f.zM,{asChild:!0,children:(0,t.jsx)(j.$,{variant:"outline",size:"sm",className:"text-blue-600 border-blue-600 hover:bg-blue-50 h-8 text-xs",children:"Send Inquiry"})}),(0,t.jsxs)(f.Cf,{className:"p-0 max-w-[90vw] w-full sm:max-w-md md:max-w-3xl rounded-lg",children:[(0,t.jsxs)(f.L3,{className:"mt-5 px-5",children:["Inquiry for ",e.p_name]}),(0,t.jsx)(v.A,{initialProduct:{_id:e._id,location:e.location,categoryType:s,categorySubType:$.name,name:e.p_name,measurementOptions:["pieces","dozens","boxes"],p_name:e.p_name,brand:e.brands}})]})]})]})]},e._id)}):(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:4,className:"p-2 md:p-3 text-center text-gray-500 text-sm",children:"No locations found for this product."})})})()})]})}),(0,t.jsx)("div",{className:"space-y-3 md:hidden",children:(()=>{let e=$.product.filter(e=>e.p_name.toLowerCase()===P.toLowerCase()&&(""===L||e.location.toLowerCase().includes(L.toLowerCase())));return e.length>0?e.map(e=>{let s=d.find(e=>e.subCategory.some(e=>e._id===$._id))?.category||"";return(0,t.jsx)("div",{className:"border rounded-lg p-4 bg-white shadow-sm",children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-gray-700 text-sm",children:"Product Name: "}),(0,t.jsx)("span",{className:"text-sm",children:e.p_name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-gray-700 text-sm",children:"Location: "}),(0,t.jsx)("span",{className:"text-sm",children:e.location})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-gray-700 text-sm",children:"Brands: "}),(0,t.jsx)("span",{className:"text-sm",children:e.brands})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 pt-2",children:[(0,t.jsx)(j.$,{variant:"outline",size:"sm",onClick:()=>Z(e._id),className:`${M.includes(e._id)?"text-red-600 border-red-600 hover:bg-red-50":"text-gray-600 border-gray-300 hover:bg-gray-50"} h-8 w-8 p-0`,"aria-label":M.includes(e._id)?"Remove from favourites":"Add to favourites",children:(0,t.jsx)(b.A,{className:`w-4 h-4 ${M.includes(e._id)?"fill-current":""}`})}),(0,t.jsxs)(f.lG,{children:[(0,t.jsx)(f.zM,{asChild:!0,children:(0,t.jsx)(j.$,{variant:"outline",size:"sm",className:"text-blue-600 border-blue-600 hover:bg-blue-50 h-8 text-xs",children:"Send Inquiry"})}),(0,t.jsxs)(f.Cf,{className:"p-0 max-w-[90vw] w-full sm:max-w-md rounded-lg",children:[(0,t.jsxs)(f.L3,{className:"mt-5 px-5",children:["Inquiry for ",e.p_name]}),(0,t.jsx)(v.A,{initialProduct:{_id:e._id,location:e.location,categoryType:s,categorySubType:$.name,name:e.p_name,measurementOptions:["pieces","dozens","boxes"],p_name:e.p_name,brand:e.brands}})]})]})]})]})},e._id)}):(0,t.jsx)("div",{className:"p-4 text-gray-500 text-sm text-center",children:"No locations found for this product."})})()})]})]})})})]})]})})}}};