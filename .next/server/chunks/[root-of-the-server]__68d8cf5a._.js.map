{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 76, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Keval/VrajeshRndTechnosoft/sabecho-v2/app/api/v1/explore-categories/image/%5Bfilename%5D/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\";\r\nimport path from \"path\";\r\nimport { stat, readFile } from \"fs/promises\";\r\n\r\nconst IMAGE_DIRECTORY = path.join(process.cwd(), \"uploads\");\r\n\r\nexport async function GET(\r\n  req: NextRequest,\r\n  context: { params: { filename: string } }\r\n) {\r\n  try {\r\n    const { filename } = context.params;\r\n    const imagePath = path.join(IMAGE_DIRECTORY, filename);\r\n\r\n    await stat(imagePath);\r\n    const fileBuffer = await readFile(imagePath);\r\n\r\n    return new NextResponse(fileBuffer, {\r\n      headers: {\r\n        \"Content-Type\": \"image/webp\", // Consider MIME detection\r\n      },\r\n    });\r\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n  } catch (err: any) {\r\n    if (err.code === \"ENOENT\") {\r\n      return NextResponse.json({ message: \"Image not found\" }, { status: 404 });\r\n    }\r\n    return NextResponse.json({ message: \"Error serving the image\" }, { status: 500 });\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;AAAA;AACA;AACA;;;;AAEA,MAAM,kBAAkB,iGAAA,CAAA,UAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI;AAE1C,eAAe,IACpB,GAAgB,EAChB,OAAyC;IAEzC,IAAI;QACF,MAAM,EAAE,QAAQ,EAAE,GAAG,QAAQ,MAAM;QACnC,MAAM,YAAY,iGAAA,CAAA,UAAI,CAAC,IAAI,CAAC,iBAAiB;QAE7C,MAAM,CAAA,GAAA,qHAAA,CAAA,OAAI,AAAD,EAAE;QACX,MAAM,aAAa,MAAM,CAAA,GAAA,qHAAA,CAAA,WAAQ,AAAD,EAAE;QAElC,OAAO,IAAI,gIAAA,CAAA,eAAY,CAAC,YAAY;YAClC,SAAS;gBACP,gBAAgB;YAClB;QACF;IACF,8DAA8D;IAC9D,EAAE,OAAO,KAAU;QACjB,IAAI,IAAI,IAAI,KAAK,UAAU;YACzB,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;gBAAE,SAAS;YAAkB,GAAG;gBAAE,QAAQ;YAAI;QACzE;QACA,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,SAAS;QAA0B,GAAG;YAAE,QAAQ;QAAI;IACjF;AACF","debugId":null}}]
}