(()=>{var e={};e.id=161,e.ids=[161],e.modules={591:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>h,pages:()=>c,routeModule:()=>x,tree:()=>d});var r=s(5239),a=s(8088),o=s(8170),n=s.n(o),i=s(893),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);s.d(t,l);let d={children:["",{children:["(public)",{children:["dashboard",{children:["favourites",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,6726)),"C:\\Users\\Keval\\VrajeshRndTechnosoft\\sabecho-v2\\app\\(public)\\dashboard\\favourites\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,5700)),"C:\\Users\\Keval\\VrajeshRndTechnosoft\\sabecho-v2\\app\\(public)\\dashboard\\layout.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,3632)),"C:\\Users\\Keval\\VrajeshRndTechnosoft\\sabecho-v2\\app\\(public)\\dashboard\\loading.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,1179)),"C:\\Users\\Keval\\VrajeshRndTechnosoft\\sabecho-v2\\app\\(public)\\layout.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,141)),"C:\\Users\\Keval\\VrajeshRndTechnosoft\\sabecho-v2\\app\\(public)\\loading.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,5284,23)),"next/dist/client/components/unauthorized-error"]}]},{"not-found":[()=>Promise.resolve().then(s.t.bind(s,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,5284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["C:\\Users\\Keval\\VrajeshRndTechnosoft\\sabecho-v2\\app\\(public)\\dashboard\\favourites\\page.tsx"],h={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/(public)/dashboard/favourites/page",pathname:"/dashboard/favourites",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2839:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var r=s(687),a=s(3210),o=s(1862),n=s(3613),i=s(7760);let l=(0,s(2688).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var d=s(474),c=s(4934),h=s(9390);let x=()=>{let[e,t]=(0,a.useState)([]),[s,x]=(0,a.useState)(!0),[u,p]=(0,a.useState)(null),m=process.env.API_URL||"http://localhost:3033";(0,a.useEffect)(()=>{v()},[]);let f=e=>{let t=`; ${document.cookie}`.split(`; ${e}=`);return 2===t.length&&t.pop()?.split(";").shift()||null},v=async()=>{try{x(!0),p(null);let e=f("token");if(!e)throw Error("No authentication token found");let s=await fetch(`${m}/api/v1/verifyToken`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e})});if(!s.ok)throw Error("Token verification failed");let r=(await s.json()).userId,a=await fetch(`${m}/api/v1/favorites/matched/${r}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!a.ok){let e=await a.json();if(404===a.status&&"Favorites not found"===e.error)return void t([]);throw Error(e.error||"Failed to fetch favorites")}let o=await a.json();t(o)}catch(e){p(e instanceof Error?e.message:"An error occurred")}finally{x(!1)}},b=async s=>{try{let r=f("token");if(!r)throw Error("No authentication token found");if(!(await fetch(`${m}/api/v1/favorites/remove/${s}`,{method:"DELETE",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}})).ok)throw Error("Failed to remove favorite");t(e.filter(e=>e._id!==s))}catch(e){p(e instanceof Error?e.message:"An error occurred while removing favorite")}};return s?(0,r.jsx)("div",{className:"flex items-center justify-center min-h-64",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2 text-blue-600",children:[(0,r.jsx)(o.A,{className:"animate-spin",size:24}),(0,r.jsx)("span",{className:"text-lg",children:"Loading favorites..."})]})}):u?(0,r.jsx)("div",{className:"flex items-center justify-center min-h-64",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2 text-red-600 bg-red-50 p-4 rounded-lg",children:[(0,r.jsx)(n.A,{size:24}),(0,r.jsx)("span",{className:"text-lg",children:u})]})}):(0,r.jsx)("div",{className:"container mx-auto px-4 sm:px-6 py-6",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2 flex items-center",children:"My Favorites"}),(0,r.jsx)(h.J,{className:"font-light text-gray-500 mb-6",children:"Manage your favorite items"}),0===e.length?(0,r.jsxs)("div",{className:"text-center text-gray-500 py-12",children:[(0,r.jsx)(i.A,{className:"mx-auto mb-4 text-gray-400",size:48}),(0,r.jsx)("p",{className:"text-lg",children:"You havenâ€™t added any favorites yet."})]}):(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6 flex flex-col",children:[(0,r.jsx)("div",{className:"relative h-40 mb-4",children:e.image?(0,r.jsx)(d.default,{src:`${m}/uploads/${e.image}`,alt:e.name,layout:"fill",objectFit:"cover",className:"rounded-md"}):(0,r.jsx)("div",{className:"h-full w-full bg-gray-100 rounded-md flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-gray-400",children:"No Image"})})}),(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:e.name}),(0,r.jsx)("p",{className:"text-sm text-gray-600 flex-1",children:e.description}),(0,r.jsxs)(c.$,{variant:"outline",className:"mt-4 text-red-600 border-red-500 hover:bg-red-50",onClick:()=>b(e._id),children:[(0,r.jsx)(l,{className:"mr-2 h-4 w-4"}),"Remove"]})]},e._id))})]})})}},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3613:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(2688).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},3632:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(7413);s(1120);let a=()=>(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})})})},3873:e=>{"use strict";e.exports=require("path")},4399:(e,t,s)=>{Promise.resolve().then(s.bind(s,5700))},5138:(e,t,s)=>{Promise.resolve().then(s.bind(s,2839))},5380:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var r=s(687),a=s(5814),o=s.n(a),n=s(6189),i=s(3210),l=s(8869),d=s(2688);let c=(0,d.A)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var h=s(7760),x=s(1862);let u=(0,d.A)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),p=e=>{if("undefined"==typeof document)return null;let t=`; ${document.cookie}`.split(`; ${e}=`);return 2===t.length&&t.pop()?.split(";").shift()||null},m=({children:e})=>{let t=(0,n.usePathname)(),[s,a]=(0,i.useState)(!0),d=[{label:"Profile",href:"/dashboard/profile",icon:l.A},{label:"Tracking",href:"/dashboard/tracking",icon:c},{label:"My Favorite",href:"/dashboard/favourites",icon:h.A}];(0,i.useEffect)(()=>{p("token")?a(!1):window.location.href="/"},[]);let m=()=>{document.cookie="token=; path=/; max-age=0; SameSite=Lax",document.cookie="userType=; path=/; max-age=0; SameSite=Lax",window.location.href="/"},f=e=>t===e;return s?(0,r.jsx)("div",{className:"flex items-center justify-center h-screen bg-gray-50",children:(0,r.jsx)(x.A,{className:"h-8 w-8 animate-spin text-blue-600"})}):(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row h-screen bg-gray-100",children:[(0,r.jsx)("div",{className:"lg:hidden bg-white border-b shadow-sm",children:(0,r.jsxs)("div",{className:"flex justify-center items-center overflow-x-auto px-4 py-2",children:[d.map(e=>{let t=e.icon,s=f(e.href);return(0,r.jsxs)(o(),{href:e.href,className:`
                  flex flex-col items-center space-y-1 px-6 py-3 min-w-0 whitespace-nowrap
                  transition-all duration-200
                  ${s?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-blue-600"}
                `,children:[(0,r.jsx)(t,{size:20}),(0,r.jsx)("span",{className:"text-xs font-medium",children:e.label})]},e.href)}),(0,r.jsxs)("button",{onClick:m,className:"flex flex-col items-center space-y-1 px-6 py-3 min-w-0 whitespace-nowrap   text-red-600 hover:text-red-700 transition-colors duration-200",children:[(0,r.jsx)(u,{size:20}),(0,r.jsx)("span",{className:"text-xs font-medium",children:"Logout"})]})]})}),(0,r.jsxs)("div",{className:"hidden lg:flex lg:flex-1 p-4",children:[(0,r.jsx)("div",{className:"w-64 bg-blue-700 rounded-lg shadow-lg",children:(0,r.jsx)("div",{className:"flex flex-col h-full",children:(0,r.jsx)("nav",{className:"flex-1 p-4",children:(0,r.jsxs)("ul",{className:"space-y-2",children:[d.map(e=>{let t=e.icon,s=f(e.href);return(0,r.jsx)("li",{children:(0,r.jsxs)(o(),{href:e.href,className:`
                          flex items-center space-x-3 px-4 py-3 rounded-lg 
                          transition-all duration-200 group
                          ${s?"bg-blue-600 text-white shadow-md":"text-blue-100 hover:bg-blue-600 hover:text-white"}
                        `,children:[(0,r.jsx)(t,{size:20,className:"flex-shrink-0"}),(0,r.jsx)("span",{className:"font-medium",children:e.label})]})},e.href)}),(0,r.jsx)("li",{className:"pt-4",children:(0,r.jsxs)("button",{onClick:m,className:"flex items-center space-x-3 w-full px-4 py-3 rounded-lg    text-blue-100 hover:bg-red-600 hover:text-white    transition-all duration-200 group",children:[(0,r.jsx)(u,{size:20,className:"flex-shrink-0"}),(0,r.jsx)("span",{className:"font-medium",children:"Logout"})]})})]})})})}),(0,r.jsx)("div",{className:"flex-1 ml-4",children:(0,r.jsx)("main",{className:"h-full bg-white rounded-lg shadow-sm p-6 overflow-y-auto",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto",children:e})})})]}),(0,r.jsx)("div",{className:"flex-1 flex flex-col overflow-hidden lg:hidden",children:(0,r.jsx)("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-100 p-4",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto bg-white rounded-lg shadow-sm p-4",children:e})})})]})}},5700:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Keval\\\\VrajeshRndTechnosoft\\\\sabecho-v2\\\\app\\\\(public)\\\\dashboard\\\\layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Keval\\VrajeshRndTechnosoft\\sabecho-v2\\app\\(public)\\dashboard\\layout.tsx","default")},6682:(e,t,s)=>{Promise.resolve().then(s.bind(s,6726))},6726:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Keval\\\\VrajeshRndTechnosoft\\\\sabecho-v2\\\\app\\\\(public)\\\\dashboard\\\\favourites\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Keval\\VrajeshRndTechnosoft\\sabecho-v2\\app\\(public)\\dashboard\\favourites\\page.tsx","default")},7527:(e,t,s)=>{Promise.resolve().then(s.bind(s,5380))},7760:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(2688).A)("heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},8869:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(2688).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[825,985,879,581,510,474,105],()=>s(591));module.exports=r})();